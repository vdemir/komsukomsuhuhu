<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Detail Group Page</title>
</head>
<body>
    <h2>{{ group.name }}</h2>
    <b>Owner</b><p>{{ group.manager}}</p>
    <b>Type</b><p>{{ group.type}}</p>
    <b>Members</b>
    {% for member in group.members.all %}
        <p>{{ member }}</p>
    {% endfor %}

    <h2>Topics</h2><hr/>
    {% for topic in topics %}
        <a href="{% url 'detail_topic' topic.id %}"><h3>{{ topic.title }}</h3></a>
    {% endfor %}
    <a href="{% url 'delete_group' group.id %}">Delete Group</a>
    <a href="{% url 'edit_group' group.id %}">Edit Group</a>
    <!--<a href="{% url 'join_group' group.id %}">Join Group</a>-->
      <form action="{% url 'detail_group' group.id %}" method="POST" id="form1">
      {% csrf_token %}
      <input type="hidden" name="latitude" id="latitude"/>
      <input type="hidden" name="longitude" id="longitude"/>
    </form>
      <a href="{% url 'fav_group' group.id %}">Fav Group</a>
      <button onclick="getLocation();">Join</button>
    <script>
        var latitude = document.getElementById("latitude");
        var longitude = document.getElementById("longitude");
        var form = document.getElementById("form1");
    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
        } else {
            x.innerHTML = "Geolocation is not supported by this browser.";
        }
    }

    function showPosition(position) {
       latitude.value = position.coords.latitude;
       longitude.value = position.coords.longitude;
       form.submit();

    }

</script>


</body>
</html>